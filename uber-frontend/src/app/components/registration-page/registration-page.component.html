<div class="backgroundDiv">
    <div class="container">
        <h1 class="header">Register for free</h1>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="formDiv" *ngIf="form">
                <mat-form-field class="formFieldName" >
                    <mat-label>First name</mat-label>
                    <input matInput formControlName="firstName">
                    <mat-error *ngIf="firstName && firstName.errors?.['required'] && (firstName.touched || firstName.dirty || form.invalid)">
                        This field is required
                    </mat-error>
                </mat-form-field>
                
                <mat-form-field class="formFieldLastName" >
                    <mat-label>Last name</mat-label>
                    <input matInput formControlName="lastName">
                    <mat-error *ngIf="lastName && lastName.errors?.['required'] && (lastName.touched || lastName.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                </mat-form-field>
    
                <mat-form-field class="formField">
                    <mat-label>Email</mat-label>
                    <input type="email" matInput formControlName="email"
                           placeholder="Ex. pat@example.com" >
                    <mat-error *ngIf="email && email.errors?.['required'] && (email.touched || email.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                    <mat-error *ngIf="email && email.errors?.['email']">
                        Invalid email address
                    </mat-error>
                </mat-form-field>
                
                <mat-form-field class="formField" >
                    <mat-label>Password</mat-label>
                    <input matInput type="password" formControlName="password">
                    <mat-error *ngIf="password && password.errors?.['required'] && (password.touched || password.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                    <mat-error *ngIf="password && password.errors?.['pattern'] && (password.touched|| password.dirty || form.invalid) ">
                        Password must have 8 to 20 characters with at least one uppercase, one lowercase character and one digit
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="formField" style="padding-top: 20px;">
                    <mat-label>Confirm Password</mat-label>
                    <input matInput type="password" formControlName="confirmPassword">
                    <mat-error *ngIf="confirmPassword && confirmPassword.errors?.['required'] && (confirmPassword.touched || confirmPassword.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                    <mat-error *ngIf="password && confirmPassword && password.value !== confirmPassword.value">
                        Passwords must match
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="formField" >
                    <mat-label>City</mat-label>
                    <input matInput placeholder="Ex. Novi Sad" formControlName="city">
                    <mat-error *ngIf="city && city.errors?.['required'] && (city.touched || city.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="formField" >
                    <mat-label>Telephone</mat-label>
                    <input type="tel" matInput placeholder="555-555-1234" formControlName="telephone">
                    <mat-error *ngIf="telephone && telephone.errors?.['required'] && (telephone.touched || telephone.dirty|| form.invalid)">
                        This field is required
                    </mat-error>
                </mat-form-field>

                <div class="buttonDiv">
                    <button mat-raised-button type="submit" class="button">Register</button>
                    <button mat-raised-button color="basic" type="button" class="button" (click)="goToLogin()">Back to Login</button>
                </div>
            </div>
        </form>
    </div>
</div>
